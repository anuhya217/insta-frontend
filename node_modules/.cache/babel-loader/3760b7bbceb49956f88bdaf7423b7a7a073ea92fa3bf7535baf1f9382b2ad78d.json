{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anuan\\\\OneDrive\\\\Desktop\\\\insta-backend\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Settings, Grid, Bookmark, UserCheck, MoreHorizontal, LogOut, Video, Users } from 'lucide-react';\nimport { Button } from '../components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { useAuth } from '../components/AuthGuard';\nimport PostCard from '../components/PostCard';\nimport FollowersModal from '../components/FollowersModal';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  var _displayUser$follower, _displayUser$followin;\n  const {\n    username\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    logout,\n    refreshUser\n  } = useAuth();\n  const [activeTab, setActiveTab] = useState('posts');\n  const [userPosts, setUserPosts] = useState([]);\n  const [profileUser, setProfileUser] = useState(null);\n  const [savedPosts, setSavedPosts] = useState([]);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [isFollowLoading, setIsFollowLoading] = useState(false);\n  const [showFollowersModal, setShowFollowersModal] = useState(false);\n  const [showFollowingModal, setShowFollowingModal] = useState(false);\n  const [mutualFollowers, setMutualFollowers] = useState([]); // ✅ new\n  const [suggestedUsers, setSuggestedUsers] = useState([]); // ✅ new\n  const isOwnProfile = username === (user === null || user === void 0 ? void 0 : user.username);\n\n  // Filter posts by type\n  const photoPosts = userPosts.filter(post => {\n    const postType = post.postType || (post.video ? 'reel' : 'photo');\n    return postType === 'photo';\n  });\n  const reelPosts = userPosts.filter(post => {\n    const postType = post.postType || (post.video ? 'reel' : 'photo');\n    return postType === 'reel';\n  });\n  const displayUser = profileUser || (isOwnProfile ? user : null);\n\n  // Fetch profile user info\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const idOrUsername = isOwnProfile ? user === null || user === void 0 ? void 0 : user.username : username;\n        if (idOrUsername) {\n          const res = await axios.get(`/api/users/${idOrUsername}`);\n          setProfileUser(res.data);\n        }\n      } catch {\n        if (isOwnProfile && user) setProfileUser(user);else setProfileUser(null);\n      }\n    };\n    fetchUser();\n  }, [username, user, isOwnProfile]);\n\n  // Fetch posts\n  useEffect(() => {\n    if (displayUser !== null && displayUser !== void 0 && displayUser._id) {\n      axios.get(`/api/posts/user/${displayUser._id}`).then(res => setUserPosts(res.data)).catch(() => setUserPosts([]));\n    }\n  }, [displayUser]);\n\n  // Check follow status\n  useEffect(() => {\n    if (displayUser && user && !isOwnProfile) {\n      const following = user.following || [];\n      setIsFollowing(following.some(f => {\n        var _f$_id;\n        return ((_f$_id = f._id) === null || _f$_id === void 0 ? void 0 : _f$_id.toString()) === displayUser._id || f.toString() === displayUser._id;\n      }));\n    }\n  }, [displayUser, user, isOwnProfile]);\n\n  // ✅ Fetch mutual followers\n  useEffect(() => {\n    const fetchMutual = async () => {\n      if (!user || !displayUser || isOwnProfile) return;\n      try {\n        const res = await axios.get(`/api/users/${displayUser._id}/mutual/${user._id}`);\n        setMutualFollowers(res.data || []);\n      } catch {\n        setMutualFollowers([]);\n      }\n    };\n    fetchMutual();\n  }, [displayUser, user]);\n\n  // ✅ Fetch suggested users to follow\n  useEffect(() => {\n    if (isOwnProfile && user !== null && user !== void 0 && user._id) {\n      axios.get(`/api/users/suggested/${user._id}`).then(res => setSuggestedUsers(res.data)).catch(() => setSuggestedUsers([]));\n    }\n  }, [isOwnProfile, user]);\n\n  // Follow / Unfollow\n  const handleFollow = async () => {\n    if (!user || !displayUser || isFollowLoading) return;\n    setIsFollowLoading(true);\n    try {\n      if (isFollowing) {\n        await axios.post(`/api/users/${displayUser._id}/unfollow`, {\n          followerId: user._id\n        });\n        setIsFollowing(false);\n      } else {\n        await axios.post(`/api/users/${displayUser._id}/follow`, {\n          followerId: user._id\n        });\n        setIsFollowing(true);\n      }\n      await refreshUser();\n      const res = await axios.get(`/api/users/${displayUser.username}`);\n      setProfileUser(res.data);\n      window.dispatchEvent(new CustomEvent('refreshNotifications'));\n    } catch (err) {\n      console.error('Error following/unfollowing user:', err);\n    } finally {\n      setIsFollowLoading(false);\n    }\n  };\n\n  // Fetch saved posts\n  useEffect(() => {\n    if (isOwnProfile && user !== null && user !== void 0 && user._id) {\n      axios.get(`/api/posts/saved/${user._id}`).then(res => setSavedPosts(res.data)).catch(() => setSavedPosts([]));\n    }\n  }, [isOwnProfile, user === null || user === void 0 ? void 0 : user._id]);\n  const handleLike = async (postId, isLiking) => {\n    try {\n      if (!(user !== null && user !== void 0 && user._id)) return alert('Please log in again.');\n      if (isLiking) await axios.post(`/api/posts/${postId}/like`, {\n        userId: user._id\n      });else await axios.delete(`/api/posts/${postId}/like`, {\n        data: {\n          userId: user._id\n        }\n      });\n      if (displayUser !== null && displayUser !== void 0 && displayUser._id) {\n        const res = await axios.get(`/api/posts/user/${displayUser._id}`);\n        setUserPosts(res.data);\n      }\n    } catch (err) {\n      console.error('Error toggling like:', err);\n      alert('Failed to update like');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700 lg:border-none\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 lg:p-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-4 lg:space-x-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 lg:w-32 lg:h-32 rounded-full overflow-hidden flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: displayUser !== null && displayUser !== void 0 && displayUser.avatar ? `http://localhost:5001/${displayUser.avatar}` : 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face',\n              alt: displayUser === null || displayUser === void 0 ? void 0 : displayUser.username,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-4 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-xl lg:text-2xl font-light dark:text-white\",\n                children: displayUser === null || displayUser === void 0 ? void 0 : displayUser.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), isOwnProfile ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  onClick: () => navigate('/profile/edit'),\n                  children: \"Edit profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  onClick: () => navigate('/settings'),\n                  children: /*#__PURE__*/_jsxDEV(Settings, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  onClick: () => {\n                    logout();\n                    navigate('/login');\n                  },\n                  className: \"text-red-600 hover:text-red-700\",\n                  children: /*#__PURE__*/_jsxDEV(LogOut, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: isFollowing ? 'outline' : 'default',\n                  size: \"sm\",\n                  onClick: handleFollow,\n                  disabled: isFollowLoading,\n                  className: isFollowing ? '' : 'bg-blue-500 hover:bg-blue-600 text-white',\n                  children: isFollowLoading ? '...' : isFollowing ? 'Following' : mutualFollowers.length > 0 ? 'Follow back' : 'Follow'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  children: \"Message\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline\",\n                  size: \"sm\",\n                  children: /*#__PURE__*/_jsxDEV(MoreHorizontal, {\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-8 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center lg:items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold dark:text-white\",\n                  children: userPosts.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: \"posts\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center lg:items-start cursor-pointer hover:opacity-70 transition-opacity\",\n                onClick: () => setShowFollowersModal(true),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold dark:text-white\",\n                  children: (displayUser === null || displayUser === void 0 ? void 0 : (_displayUser$follower = displayUser.followers) === null || _displayUser$follower === void 0 ? void 0 : _displayUser$follower.length) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: \"followers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center lg:items-start cursor-pointer hover:opacity-70 transition-opacity\",\n                onClick: () => setShowFollowingModal(true),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold dark:text-white\",\n                  children: (displayUser === null || displayUser === void 0 ? void 0 : (_displayUser$followin = displayUser.following) === null || _displayUser$followin === void 0 ? void 0 : _displayUser$followin.length) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: \"following\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), !isOwnProfile && mutualFollowers.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 dark:text-gray-300 mb-2\",\n              children: [\"Followed by \", mutualFollowers.slice(0, 2).map(m => m.username).join(', '), mutualFollowers.length > 2 && ` and ${mutualFollowers.length - 2} others`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-semibold mb-1 dark:text-white\",\n              children: displayUser === null || displayUser === void 0 ? void 0 : displayUser.displayName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm whitespace-pre-line dark:text-gray-300\",\n              children: displayUser === null || displayUser === void 0 ? void 0 : displayUser.bio\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), (displayUser === null || displayUser === void 0 ? void 0 : displayUser.website) && /*#__PURE__*/_jsxDEV(\"a\", {\n              href: displayUser.website,\n              className: \"text-sm text-blue-600 hover:underline\",\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: displayUser.website\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), isOwnProfile && suggestedUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"flex items-center space-x-2 text-lg font-semibold mb-3 dark:text-white\",\n        children: [/*#__PURE__*/_jsxDEV(Users, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Suggested for you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 md:grid-cols-3 gap-4\",\n        children: suggestedUsers.slice(0, 6).map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between bg-gray-50 dark:bg-gray-700 rounded-xl p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: s.avatar ? `http://localhost:5001/${s.avatar}` : 'https://via.placeholder.com/40',\n              alt: s.username,\n              className: \"w-8 h-8 rounded-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-semibold dark:text-white\",\n                children: [\"@\", s.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 dark:text-gray-400\",\n                children: s.displayName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"default\",\n            size: \"sm\",\n            className: \"text-xs bg-blue-500 hover:bg-blue-600 text-white\",\n            onClick: () => axios.post(`/api/users/${s._id}/follow`, {\n              followerId: user._id\n            }),\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 17\n          }, this)]\n        }, s._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n      defaultValue: \"posts\",\n      className: \"w-full\",\n      children: [/*#__PURE__*/_jsxDEV(TabsList, {\n        className: \"w-full bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700 rounded-none h-auto p-0\",\n        children: [/*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"posts\",\n          className: \"flex-1 flex items-center justify-center py-3\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden lg:inline\",\n            children: \"ALL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"photos\",\n          className: \"flex-1 flex items-center justify-center py-3\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden lg:inline\",\n            children: \"PHOTOS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"reels\",\n          className: \"flex-1 flex items-center justify-center py-3\",\n          children: [/*#__PURE__*/_jsxDEV(Video, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden lg:inline\",\n            children: \"REELS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 43\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), isOwnProfile && /*#__PURE__*/_jsxDEV(TabsTrigger, {\n          value: \"saved\",\n          className: \"flex-1 flex items-center justify-center py-3\",\n          children: [/*#__PURE__*/_jsxDEV(Bookmark, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"hidden lg:inline\",\n            children: \"SAVED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TabsContent, {\n        value: \"posts\",\n        className: \"mt-0\",\n        children: userPosts.length > 0 ? userPosts.map(post => /*#__PURE__*/_jsxDEV(PostCard, {\n          post: post,\n          onLike: handleLike\n        }, post._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center py-16\",\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            className: \"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-light mb-2 dark:text-white\",\n            children: \"No posts yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FollowersModal, {\n      isOpen: showFollowersModal,\n      onClose: () => setShowFollowersModal(false),\n      userId: displayUser === null || displayUser === void 0 ? void 0 : displayUser._id,\n      type: \"followers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FollowersModal, {\n      isOpen: showFollowingModal,\n      onClose: () => setShowFollowingModal(false),\n      userId: displayUser === null || displayUser === void 0 ? void 0 : displayUser._id,\n      type: \"following\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"/ry7G+oY362ZHnzPWDPmfUakHAM=\", false, function () {\n  return [useParams, useNavigate, useAuth];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Settings","Grid","Bookmark","UserCheck","MoreHorizontal","LogOut","Video","Users","Button","Tabs","TabsContent","TabsList","TabsTrigger","useAuth","PostCard","FollowersModal","axios","jsxDEV","_jsxDEV","Profile","_s","_displayUser$follower","_displayUser$followin","username","navigate","user","logout","refreshUser","activeTab","setActiveTab","userPosts","setUserPosts","profileUser","setProfileUser","savedPosts","setSavedPosts","isFollowing","setIsFollowing","isFollowLoading","setIsFollowLoading","showFollowersModal","setShowFollowersModal","showFollowingModal","setShowFollowingModal","mutualFollowers","setMutualFollowers","suggestedUsers","setSuggestedUsers","isOwnProfile","photoPosts","filter","post","postType","video","reelPosts","displayUser","fetchUser","idOrUsername","res","get","data","_id","then","catch","following","some","f","_f$_id","toString","fetchMutual","handleFollow","followerId","window","dispatchEvent","CustomEvent","err","console","error","handleLike","postId","isLiking","alert","userId","delete","className","children","src","avatar","alt","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","onClick","disabled","length","followers","slice","map","m","join","displayName","bio","website","href","target","rel","s","defaultValue","value","onLike","isOpen","onClose","type","_c","$RefreshReg$"],"sources":["C:/Users/anuan/OneDrive/Desktop/insta-backend/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Settings, Grid, Bookmark, UserCheck, MoreHorizontal, LogOut, Video, Users } from 'lucide-react';\nimport { Button } from '../components/ui/button';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../components/ui/tabs';\nimport { useAuth } from '../components/AuthGuard';\nimport PostCard from '../components/PostCard';\nimport FollowersModal from '../components/FollowersModal';\nimport axios from 'axios';\n\nconst Profile = () => {\n  const { username } = useParams();\n  const navigate = useNavigate();\n  const { user, logout, refreshUser } = useAuth();\n  const [activeTab, setActiveTab] = useState('posts');\n  const [userPosts, setUserPosts] = useState([]);\n  const [profileUser, setProfileUser] = useState(null);\n  const [savedPosts, setSavedPosts] = useState([]);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [isFollowLoading, setIsFollowLoading] = useState(false);\n  const [showFollowersModal, setShowFollowersModal] = useState(false);\n  const [showFollowingModal, setShowFollowingModal] = useState(false);\n  const [mutualFollowers, setMutualFollowers] = useState([]); // ✅ new\n  const [suggestedUsers, setSuggestedUsers] = useState([]);   // ✅ new\n  const isOwnProfile = username === user?.username;\n\n  // Filter posts by type\n  const photoPosts = userPosts.filter(post => {\n    const postType = post.postType || (post.video ? 'reel' : 'photo');\n    return postType === 'photo';\n  });\n\n  const reelPosts = userPosts.filter(post => {\n    const postType = post.postType || (post.video ? 'reel' : 'photo');\n    return postType === 'reel';\n  });\n\n  const displayUser = profileUser || (isOwnProfile ? user : null);\n\n  // Fetch profile user info\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const idOrUsername = isOwnProfile ? user?.username : username;\n        if (idOrUsername) {\n          const res = await axios.get(`/api/users/${idOrUsername}`);\n          setProfileUser(res.data);\n        }\n      } catch {\n        if (isOwnProfile && user) setProfileUser(user);\n        else setProfileUser(null);\n      }\n    };\n    fetchUser();\n  }, [username, user, isOwnProfile]);\n\n  // Fetch posts\n  useEffect(() => {\n    if (displayUser?._id) {\n      axios.get(`/api/posts/user/${displayUser._id}`)\n        .then(res => setUserPosts(res.data))\n        .catch(() => setUserPosts([]));\n    }\n  }, [displayUser]);\n\n  // Check follow status\n  useEffect(() => {\n    if (displayUser && user && !isOwnProfile) {\n      const following = user.following || [];\n      setIsFollowing(following.some(f => f._id?.toString() === displayUser._id || f.toString() === displayUser._id));\n    }\n  }, [displayUser, user, isOwnProfile]);\n\n  // ✅ Fetch mutual followers\n  useEffect(() => {\n    const fetchMutual = async () => {\n      if (!user || !displayUser || isOwnProfile) return;\n      try {\n        const res = await axios.get(`/api/users/${displayUser._id}/mutual/${user._id}`);\n        setMutualFollowers(res.data || []);\n      } catch {\n        setMutualFollowers([]);\n      }\n    };\n    fetchMutual();\n  }, [displayUser, user]);\n\n  // ✅ Fetch suggested users to follow\n  useEffect(() => {\n    if (isOwnProfile && user?._id) {\n      axios.get(`/api/users/suggested/${user._id}`)\n        .then(res => setSuggestedUsers(res.data))\n        .catch(() => setSuggestedUsers([]));\n    }\n  }, [isOwnProfile, user]);\n\n  // Follow / Unfollow\n  const handleFollow = async () => {\n    if (!user || !displayUser || isFollowLoading) return;\n    setIsFollowLoading(true);\n    try {\n      if (isFollowing) {\n        await axios.post(`/api/users/${displayUser._id}/unfollow`, { followerId: user._id });\n        setIsFollowing(false);\n      } else {\n        await axios.post(`/api/users/${displayUser._id}/follow`, { followerId: user._id });\n        setIsFollowing(true);\n      }\n      await refreshUser();\n      const res = await axios.get(`/api/users/${displayUser.username}`);\n      setProfileUser(res.data);\n      window.dispatchEvent(new CustomEvent('refreshNotifications'));\n    } catch (err) {\n      console.error('Error following/unfollowing user:', err);\n    } finally {\n      setIsFollowLoading(false);\n    }\n  };\n\n  // Fetch saved posts\n  useEffect(() => {\n    if (isOwnProfile && user?._id) {\n      axios.get(`/api/posts/saved/${user._id}`)\n        .then(res => setSavedPosts(res.data))\n        .catch(() => setSavedPosts([]));\n    }\n  }, [isOwnProfile, user?._id]);\n\n  const handleLike = async (postId, isLiking) => {\n    try {\n      if (!user?._id) return alert('Please log in again.');\n      if (isLiking) await axios.post(`/api/posts/${postId}/like`, { userId: user._id });\n      else await axios.delete(`/api/posts/${postId}/like`, { data: { userId: user._id } });\n      if (displayUser?._id) {\n        const res = await axios.get(`/api/posts/user/${displayUser._id}`);\n        setUserPosts(res.data);\n      }\n    } catch (err) {\n      console.error('Error toggling like:', err);\n      alert('Failed to update like');\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Profile header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700 lg:border-none\">\n        <div className=\"p-4 lg:p-8\">\n          <div className=\"flex items-start space-x-4 lg:space-x-8\">\n            <div className=\"w-20 h-20 lg:w-32 lg:h-32 rounded-full overflow-hidden flex-shrink-0\">\n              <img\n                src={\n                  displayUser?.avatar\n                    ? `http://localhost:5001/${displayUser.avatar}`\n                    : 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face'\n                }\n                alt={displayUser?.username}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center space-x-4 mb-4\">\n                <h1 className=\"text-xl lg:text-2xl font-light dark:text-white\">\n                  {displayUser?.username}\n                </h1>\n                {isOwnProfile ? (\n                  <div className=\"flex space-x-2\">\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => navigate('/profile/edit')}>\n                      Edit profile\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\" onClick={() => navigate('/settings')}>\n                      <Settings className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        logout();\n                        navigate('/login');\n                      }}\n                      className=\"text-red-600 hover:text-red-700\"\n                    >\n                      <LogOut className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"flex space-x-2\">\n                    <Button\n                      variant={isFollowing ? 'outline' : 'default'}\n                      size=\"sm\"\n                      onClick={handleFollow}\n                      disabled={isFollowLoading}\n                      className={isFollowing ? '' : 'bg-blue-500 hover:bg-blue-600 text-white'}\n                    >\n                      {isFollowLoading\n                        ? '...'\n                        : isFollowing\n                        ? 'Following'\n                        : mutualFollowers.length > 0\n                        ? 'Follow back'\n                        : 'Follow'}\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\">\n                      Message\n                    </Button>\n                    <Button variant=\"outline\" size=\"sm\">\n                      <MoreHorizontal className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                )}\n              </div>\n\n              {/* Stats */}\n              <div className=\"flex space-x-8 mb-4\">\n                <div className=\"flex flex-col items-center lg:items-start\">\n                  <span className=\"font-semibold dark:text-white\">{userPosts.length}</span>\n                  <span className=\"text-sm text-gray-500 dark:text-gray-400\">posts</span>\n                </div>\n                <div\n                  className=\"flex flex-col items-center lg:items-start cursor-pointer hover:opacity-70 transition-opacity\"\n                  onClick={() => setShowFollowersModal(true)}\n                >\n                  <span className=\"font-semibold dark:text-white\">\n                    {displayUser?.followers?.length || 0}\n                  </span>\n                  <span className=\"text-sm text-gray-500 dark:text-gray-400\">followers</span>\n                </div>\n                <div\n                  className=\"flex flex-col items-center lg:items-start cursor-pointer hover:opacity-70 transition-opacity\"\n                  onClick={() => setShowFollowingModal(true)}\n                >\n                  <span className=\"font-semibold dark:text-white\">\n                    {displayUser?.following?.length || 0}\n                  </span>\n                  <span className=\"text-sm text-gray-500 dark:text-gray-400\">following</span>\n                </div>\n              </div>\n\n              {/* ✅ Mutual followers info */}\n              {!isOwnProfile && mutualFollowers.length > 0 && (\n                <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-2\">\n                  Followed by {mutualFollowers.slice(0, 2).map(m => m.username).join(', ')}\n                  {mutualFollowers.length > 2 && ` and ${mutualFollowers.length - 2} others`}\n                </p>\n              )}\n\n              {/* Bio */}\n              <h2 className=\"font-semibold mb-1 dark:text-white\">{displayUser?.displayName}</h2>\n              <p className=\"text-sm whitespace-pre-line dark:text-gray-300\">{displayUser?.bio}</p>\n              {displayUser?.website && (\n                <a\n                  href={displayUser.website}\n                  className=\"text-sm text-blue-600 hover:underline\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {displayUser.website}\n                </a>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* ✅ Suggested users section (for your own profile) */}\n      {isOwnProfile && suggestedUsers.length > 0 && (\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700 p-4\">\n          <h3 className=\"flex items-center space-x-2 text-lg font-semibold mb-3 dark:text-white\">\n            <Users className=\"h-5 w-5\" />\n            <span>Suggested for you</span>\n          </h3>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n            {suggestedUsers.slice(0, 6).map((s) => (\n              <div\n                key={s._id}\n                className=\"flex items-center justify-between bg-gray-50 dark:bg-gray-700 rounded-xl p-2\"\n              >\n                <div className=\"flex items-center space-x-2\">\n                  <img\n                    src={\n                      s.avatar\n                        ? `http://localhost:5001/${s.avatar}`\n                        : 'https://via.placeholder.com/40'\n                    }\n                    alt={s.username}\n                    className=\"w-8 h-8 rounded-full object-cover\"\n                  />\n                  <div>\n                    <p className=\"text-sm font-semibold dark:text-white\">@{s.username}</p>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">{s.displayName}</p>\n                  </div>\n                </div>\n                <Button\n                  variant=\"default\"\n                  size=\"sm\"\n                  className=\"text-xs bg-blue-500 hover:bg-blue-600 text-white\"\n                  onClick={() => axios.post(`/api/users/${s._id}/follow`, { followerId: user._id })}\n                >\n                  Follow\n                </Button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Tabs for posts */}\n      <Tabs defaultValue=\"posts\" className=\"w-full\">\n        <TabsList className=\"w-full bg-white dark:bg-gray-800 border-b border-gray-300 dark:border-gray-700 rounded-none h-auto p-0\">\n          <TabsTrigger value=\"posts\" className=\"flex-1 flex items-center justify-center py-3\">\n            <Grid className=\"h-4 w-4\" /> <span className=\"hidden lg:inline\">ALL</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"photos\" className=\"flex-1 flex items-center justify-center py-3\">\n            <Grid className=\"h-4 w-4\" /> <span className=\"hidden lg:inline\">PHOTOS</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"reels\" className=\"flex-1 flex items-center justify-center py-3\">\n            <Video className=\"h-4 w-4\" /> <span className=\"hidden lg:inline\">REELS</span>\n          </TabsTrigger>\n          {isOwnProfile && (\n            <TabsTrigger value=\"saved\" className=\"flex-1 flex items-center justify-center py-3\">\n              <Bookmark className=\"h-4 w-4\" /> <span className=\"hidden lg:inline\">SAVED</span>\n            </TabsTrigger>\n          )}\n        </TabsList>\n\n        {/* Posts content */}\n        <TabsContent value=\"posts\" className=\"mt-0\">\n          {userPosts.length > 0 ? (\n            userPosts.map((post) => (\n              <PostCard\n                key={post._id}\n                post={post}\n                onLike={handleLike}\n              />\n            ))\n          ) : (\n            <div className=\"flex flex-col items-center justify-center py-16\">\n              <Grid className=\"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4\" />\n              <h3 className=\"text-xl font-light mb-2 dark:text-white\">No posts yet</h3>\n            </div>\n          )}\n        </TabsContent>\n      </Tabs>\n\n      {/* Followers Modal */}\n      <FollowersModal\n        isOpen={showFollowersModal}\n        onClose={() => setShowFollowersModal(false)}\n        userId={displayUser?._id}\n        type=\"followers\"\n      />\n\n      {/* Following Modal */}\n      <FollowersModal\n        isOpen={showFollowingModal}\n        onClose={() => setShowFollowingModal(false)}\n        userId={displayUser?._id}\n        type=\"following\"\n      />\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}