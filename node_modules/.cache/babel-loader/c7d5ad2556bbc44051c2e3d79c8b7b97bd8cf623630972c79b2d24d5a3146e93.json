{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anuan\\\\OneDrive\\\\Desktop\\\\insta-backend\\\\frontend\\\\src\\\\pages\\\\EditProfile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { ArrowLeft, Camera } from 'lucide-react';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Textarea } from '../components/ui/textarea';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../components/AuthGuard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfile = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    displayName: (user === null || user === void 0 ? void 0 : user.displayName) || '',\n    username: (user === null || user === void 0 ? void 0 : user.username) || '',\n    website: (user === null || user === void 0 ? void 0 : user.website) || '',\n    bio: (user === null || user === void 0 ? void 0 : user.bio) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    phone: (user === null || user === void 0 ? void 0 : user.phone) || '',\n    gender: (user === null || user === void 0 ? void 0 : user.gender) || 'Not specified'\n  });\n  const [loading, setLoading] = useState(false);\n  const [avatarFile, setAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState(null);\n  const fileInputRef = useRef(null);\n\n  // Update form data when user data becomes available\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        displayName: user.displayName || '',\n        username: user.username || '',\n        website: user.website || '',\n        bio: user.bio || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        gender: user.gender || 'Not specified'\n      });\n    }\n  }, [user]);\n  const handleInputChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    console.log('Profile update attempt:', {\n      user,\n      formData\n    });\n    if (!user || !user.username) {\n      alert('User data missing. Please log in again.');\n      setLoading(false);\n      return;\n    }\n    try {\n      console.log('Sending API request to:', `/api/users/${user.username}`);\n      console.log('Request data:', formData);\n      const response = await axios.put(`/api/users/${user.username}`, formData);\n      console.log('API response:', response.data);\n\n      // Update the user profile with the response from the server\n      updateProfile({\n        ...formData,\n        avatar: response.data.avatar || user.avatar\n      });\n      setLoading(false);\n\n      // If username changed, redirect to new profile URL\n      if (formData.username !== user.username) {\n        navigate(`/profile/${formData.username}`);\n      } else {\n        navigate(`/profile/${user.username}`);\n      }\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data, _err$response2$data$e, _err$response3, _err$response3$data, _err$response3$data$e;\n      setLoading(false);\n      console.error('Profile update error:', err);\n      console.error('Error response:', (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n\n      // Handle specific error cases\n      if ((_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && (_err$response2$data$e = _err$response2$data.error) !== null && _err$response2$data$e !== void 0 && _err$response2$data$e.includes('duplicate') || (_err$response3 = err.response) !== null && _err$response3 !== void 0 && (_err$response3$data = _err$response3.data) !== null && _err$response3$data !== void 0 && (_err$response3$data$e = _err$response3$data.error) !== null && _err$response3$data$e !== void 0 && _err$response3$data$e.includes('unique')) {\n        alert('Username already exists. Please choose a different username.');\n      } else {\n        var _err$response4, _err$response4$data;\n        alert('Profile update failed: ' + (((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || err.message));\n      }\n    }\n  };\n  const handleAvatarChange = () => {\n    var _fileInputRef$current;\n    (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const handleAvatarFileSelect = async event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      setAvatarFile(file);\n      const url = URL.createObjectURL(file);\n      setAvatarPreview(url);\n\n      // Upload avatar immediately\n      try {\n        const formData = new FormData();\n        formData.append('avatar', file);\n        const response = await axios.put(`/api/users/${user.username}/avatar`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        console.log('Avatar upload response:', response.data);\n\n        // Update user context with new avatar\n        updateProfile({\n          avatar: response.data.avatar\n        });\n\n        // Clear the file input\n        if (fileInputRef.current) {\n          fileInputRef.current.value = '';\n        }\n        alert('Avatar updated successfully!');\n      } catch (err) {\n        var _err$response5, _err$response5$data;\n        console.error('Avatar upload error:', err);\n        alert('Failed to update avatar: ' + (((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.error) || err.message));\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sticky top-0 bg-white border-b border-gray-300 z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          onClick: () => navigate(`/profile/${(user === null || user === void 0 ? void 0 : user.username) || 'currentuser'}`),\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            className: \"h-6 w-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-semibold\",\n          children: \"Edit profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          className: \"text-blue-500 font-semibold\",\n          onClick: e => {\n            e.preventDefault();\n            handleSubmit(e);\n          },\n          disabled: loading,\n          children: loading ? 'Saving...' : 'Done'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-20 h-20 rounded-full overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: avatarPreview || (user !== null && user !== void 0 && user.avatar ? `http://localhost:5001/${user.avatar}` : 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face'),\n                alt: \"Profile\",\n                className: \"w-full h-full object-cover\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAvatarChange,\n              className: \"absolute bottom-0 right-0 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Camera, {\n                className: \"h-3 w-3 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-lg\",\n              children: user === null || user === void 0 ? void 0 : user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"ghost\",\n              className: \"text-blue-500 font-semibold p-0 h-auto\",\n              onClick: handleAvatarChange,\n              children: \"Change profile photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"p-6 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-900 mb-2\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"displayName\",\n            value: formData.displayName,\n            onChange: handleInputChange,\n            className: \"w-full\",\n            placeholder: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: \"Help people discover your account by using the name you're known by: either your full name, nickname, or business name.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-900 mb-2\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"username\",\n            value: formData.username,\n            onChange: handleInputChange,\n            className: \"w-full\",\n            placeholder: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [\"www.instagram.com/\", formData.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-900 mb-2\",\n            children: \"Website\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"url\",\n            name: \"website\",\n            value: formData.website,\n            onChange: handleInputChange,\n            className: \"w-full\",\n            placeholder: \"Website\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-900 mb-2\",\n            children: \"Bio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            name: \"bio\",\n            value: formData.bio,\n            onChange: handleInputChange,\n            className: \"w-full resize-none\",\n            rows: 3,\n            maxLength: 150,\n            placeholder: \"Bio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [formData.bio.length, \"/150\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-2\",\n            children: \"Personal information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mb-4\",\n            children: \"Provide your personal information, even if the account is used for a business, a pet or something else. This won't be part of your public profile.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-900 mb-2\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"email\",\n            name: \"email\",\n            value: formData.email,\n            onChange: handleInputChange,\n            className: \"w-full\",\n            placeholder: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-900 mb-2\",\n            children: \"Phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"tel\",\n            name: \"phone\",\n            value: formData.phone,\n            onChange: handleInputChange,\n            className: \"w-full\",\n            placeholder: \"Phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold text-gray-900 mb-2\",\n            children: \"Gender\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"gender\",\n            value: formData.gender,\n            onChange: handleInputChange,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Not specified\",\n              children: \"Not specified\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Male\",\n              children: \"Male\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Female\",\n              children: \"Female\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Custom\",\n              children: \"Custom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: \"This won't be part of your public profile.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hidden lg:block pt-6\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            disabled: loading,\n            className: \"bg-blue-500 hover:bg-blue-600 text-white\",\n            children: loading ? 'Saving...' : 'Submit'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-gray-200 p-6 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          className: \"w-full text-left justify-start text-blue-500 font-semibold\",\n          children: \"Switch to professional account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"ghost\",\n          className: \"w-full text-left justify-start text-blue-500 font-semibold\",\n          children: \"Personal information settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleAvatarFileSelect,\n      className: \"hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProfile, \"zZUy8MbKZq1OZnCTwFsqeAcUFlA=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ArrowLeft","Camera","Button","Input","Textarea","useNavigate","useAuth","jsxDEV","_jsxDEV","EditProfile","_s","navigate","user","updateProfile","formData","setFormData","displayName","username","website","bio","email","phone","gender","loading","setLoading","avatarFile","setAvatarFile","avatarPreview","setAvatarPreview","fileInputRef","handleInputChange","e","target","name","value","handleSubmit","preventDefault","console","log","alert","response","put","data","avatar","err","_err$response","_err$response2","_err$response2$data","_err$response2$data$e","_err$response3","_err$response3$data","_err$response3$data$e","error","includes","_err$response4","_err$response4$data","message","handleAvatarChange","_fileInputRef$current","current","click","handleAvatarFileSelect","event","_event$target$files","file","files","url","URL","createObjectURL","FormData","append","headers","_err$response5","_err$response5$data","className","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","disabled","src","alt","onSubmit","type","onChange","placeholder","rows","maxLength","length","ref","accept","_c","$RefreshReg$"],"sources":["C:/Users/anuan/OneDrive/Desktop/insta-backend/frontend/src/pages/EditProfile.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { ArrowLeft, Camera } from 'lucide-react';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Textarea } from '../components/ui/textarea';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../components/AuthGuard';\n\nconst EditProfile = () => {\n  const navigate = useNavigate();\n  const { user, updateProfile } = useAuth();\n  const [formData, setFormData] = useState({\n    displayName: user?.displayName || '',\n    username: user?.username || '',\n    website: user?.website || '',\n    bio: user?.bio || '',\n    email: user?.email || '',\n    phone: user?.phone || '',\n    gender: user?.gender || 'Not specified'\n  });\n  const [loading, setLoading] = useState(false);\n  const [avatarFile, setAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState(null);\n  const fileInputRef = useRef(null);\n\n  // Update form data when user data becomes available\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        displayName: user.displayName || '',\n        username: user.username || '',\n        website: user.website || '',\n        bio: user.bio || '',\n        email: user.email || '',\n        phone: user.phone || '',\n        gender: user.gender || 'Not specified'\n      });\n    }\n  }, [user]);\n\n  const handleInputChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    console.log('Profile update attempt:', { user, formData });\n    \n    if (!user || !user.username) {\n      alert('User data missing. Please log in again.');\n      setLoading(false);\n      return;\n    }\n    try {\n      console.log('Sending API request to:', `/api/users/${user.username}`);\n      console.log('Request data:', formData);\n      \n      const response = await axios.put(`/api/users/${user.username}`, formData);\n      console.log('API response:', response.data);\n      \n      // Update the user profile with the response from the server\n      updateProfile({ ...formData, avatar: response.data.avatar || user.avatar });\n      setLoading(false);\n      \n      // If username changed, redirect to new profile URL\n      if (formData.username !== user.username) {\n        navigate(`/profile/${formData.username}`);\n      } else {\n        navigate(`/profile/${user.username}`);\n      }\n    } catch (err) {\n      setLoading(false);\n      console.error('Profile update error:', err);\n      console.error('Error response:', err.response?.data);\n      \n      // Handle specific error cases\n      if (err.response?.data?.error?.includes('duplicate') || err.response?.data?.error?.includes('unique')) {\n        alert('Username already exists. Please choose a different username.');\n      } else {\n        alert('Profile update failed: ' + (err.response?.data?.error || err.message));\n      }\n    }\n  };\n\n  const handleAvatarChange = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleAvatarFileSelect = async (event) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      setAvatarFile(file);\n      const url = URL.createObjectURL(file);\n      setAvatarPreview(url);\n      \n      // Upload avatar immediately\n      try {\n        const formData = new FormData();\n        formData.append('avatar', file);\n        \n        const response = await axios.put(`/api/users/${user.username}/avatar`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        });\n        \n        console.log('Avatar upload response:', response.data);\n        \n        // Update user context with new avatar\n        updateProfile({ avatar: response.data.avatar });\n        \n        // Clear the file input\n        if (fileInputRef.current) {\n          fileInputRef.current.value = '';\n        }\n        \n        alert('Avatar updated successfully!');\n      } catch (err) {\n        console.error('Avatar upload error:', err);\n        alert('Failed to update avatar: ' + (err.response?.data?.error || err.message));\n      }\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-white border-b border-gray-300 z-10\">\n        <div className=\"flex items-center justify-between p-4\">\n          <Button variant=\"ghost\" onClick={() => navigate(`/profile/${user?.username || 'currentuser'}`)}>\n            <ArrowLeft className=\"h-6 w-6\" />\n          </Button>\n          <h1 className=\"font-semibold\">Edit profile</h1>\n          <Button\n            variant=\"ghost\"\n            className=\"text-blue-500 font-semibold\"\n            onClick={(e) => {\n              e.preventDefault();\n              handleSubmit(e);\n            }}\n            disabled={loading}\n          >\n            {loading ? 'Saving...' : 'Done'}\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"max-w-2xl mx-auto\">\n        {/* Profile photo section */}\n        <div className=\"p-6 border-b border-gray-200\">\n          <div className=\"flex items-center space-x-6\">\n            <div className=\"relative\">\n              <div className=\"w-20 h-20 rounded-full overflow-hidden\">\n                <img\n                  src={avatarPreview || (user?.avatar ? `http://localhost:5001/${user.avatar}` : 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=150&h=150&fit=crop&crop=face')}\n                  alt=\"Profile\"\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              <button\n                onClick={handleAvatarChange}\n                className=\"absolute bottom-0 right-0 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center\"\n              >\n                <Camera className=\"h-3 w-3 text-white\" />\n              </button>\n            </div>\n            <div>\n              <h3 className=\"font-semibold text-lg\">{user?.username}</h3>\n              <Button\n                variant=\"ghost\"\n                className=\"text-blue-500 font-semibold p-0 h-auto\"\n                onClick={handleAvatarChange}\n              >\n                Change profile photo\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Name */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Name\n            </label>\n            <Input\n              type=\"text\"\n              name=\"displayName\"\n              value={formData.displayName}\n              onChange={handleInputChange}\n              className=\"w-full\"\n              placeholder=\"Name\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Help people discover your account by using the name you're known by: either your full name, nickname, or business name.\n            </p>\n          </div>\n\n          {/* Username */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Username\n            </label>\n            <Input\n              type=\"text\"\n              name=\"username\"\n              value={formData.username}\n              onChange={handleInputChange}\n              className=\"w-full\"\n              placeholder=\"Username\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              www.instagram.com/{formData.username}\n            </p>\n          </div>\n\n          {/* Website */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Website\n            </label>\n            <Input\n              type=\"url\"\n              name=\"website\"\n              value={formData.website}\n              onChange={handleInputChange}\n              className=\"w-full\"\n              placeholder=\"Website\"\n            />\n          </div>\n\n          {/* Bio */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Bio\n            </label>\n            <Textarea\n              name=\"bio\"\n              value={formData.bio}\n              onChange={handleInputChange}\n              className=\"w-full resize-none\"\n              rows={3}\n              maxLength={150}\n              placeholder=\"Bio\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              {formData.bio.length}/150\n            </p>\n          </div>\n\n          {/* Personal information header */}\n          <div className=\"pt-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Personal information</h3>\n            <p className=\"text-sm text-gray-500 mb-4\">\n              Provide your personal information, even if the account is used for a business, a pet or something else. This won't be part of your public profile.\n            </p>\n          </div>\n\n          {/* Email */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Email\n            </label>\n            <Input\n              type=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n              className=\"w-full\"\n              placeholder=\"Email\"\n            />\n          </div>\n\n          {/* Phone */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Phone number\n            </label>\n            <Input\n              type=\"tel\"\n              name=\"phone\"\n              value={formData.phone}\n              onChange={handleInputChange}\n              className=\"w-full\"\n              placeholder=\"Phone number\"\n            />\n          </div>\n\n          {/* Gender */}\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-900 mb-2\">\n              Gender\n            </label>\n            <select\n              name=\"gender\"\n              value={formData.gender}\n              onChange={handleInputChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"Not specified\">Not specified</option>\n              <option value=\"Male\">Male</option>\n              <option value=\"Female\">Female</option>\n              <option value=\"Custom\">Custom</option>\n            </select>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              This won't be part of your public profile.\n            </p>\n          </div>\n\n          {/* Submit button for desktop */}\n          <div className=\"hidden lg:block pt-6\">\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              className=\"bg-blue-500 hover:bg-blue-600 text-white\"\n            >\n              {loading ? 'Saving...' : 'Submit'}\n            </Button>\n          </div>\n        </form>\n\n        {/* Additional options */}\n        <div className=\"border-t border-gray-200 p-6 space-y-4\">\n          <Button\n            variant=\"ghost\"\n            className=\"w-full text-left justify-start text-blue-500 font-semibold\"\n          >\n            Switch to professional account\n          </Button>\n          \n          <Button\n            variant=\"ghost\"\n            className=\"w-full text-left justify-start text-blue-500 font-semibold\"\n          >\n            Personal information settings\n          </Button>\n        </div>\n      </div>\n      \n      {/* Hidden file input for avatar upload */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleAvatarFileSelect}\n        className=\"hidden\"\n      />\n    </div>\n  );\n};\n\nexport default EditProfile;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,MAAM,QAAQ,cAAc;AAChD,SAASC,MAAM,QAAQ,yBAAyB;AAChD,SAASC,KAAK,QAAQ,wBAAwB;AAC9C,SAASC,QAAQ,QAAQ,2BAA2B;AACpD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEO,IAAI;IAAEC;EAAc,CAAC,GAAGP,OAAO,CAAC,CAAC;EACzC,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC;IACvCoB,WAAW,EAAE,CAAAJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,WAAW,KAAI,EAAE;IACpCC,QAAQ,EAAE,CAAAL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,QAAQ,KAAI,EAAE;IAC9BC,OAAO,EAAE,CAAAN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,OAAO,KAAI,EAAE;IAC5BC,GAAG,EAAE,CAAAP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,GAAG,KAAI,EAAE;IACpBC,KAAK,EAAE,CAAAR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,KAAK,KAAI,EAAE;IACxBC,KAAK,EAAE,CAAAT,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,KAAK,KAAI,EAAE;IACxBC,MAAM,EAAE,CAAAV,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEU,MAAM,KAAI;EAC1B,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC6B,UAAU,EAAEC,aAAa,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAAC+B,aAAa,EAAEC,gBAAgB,CAAC,GAAGhC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAMiC,YAAY,GAAG/B,MAAM,CAAC,IAAI,CAAC;;EAEjC;EACAD,SAAS,CAAC,MAAM;IACd,IAAIe,IAAI,EAAE;MACRG,WAAW,CAAC;QACVC,WAAW,EAAEJ,IAAI,CAACI,WAAW,IAAI,EAAE;QACnCC,QAAQ,EAAEL,IAAI,CAACK,QAAQ,IAAI,EAAE;QAC7BC,OAAO,EAAEN,IAAI,CAACM,OAAO,IAAI,EAAE;QAC3BC,GAAG,EAAEP,IAAI,CAACO,GAAG,IAAI,EAAE;QACnBC,KAAK,EAAER,IAAI,CAACQ,KAAK,IAAI,EAAE;QACvBC,KAAK,EAAET,IAAI,CAACS,KAAK,IAAI,EAAE;QACvBC,MAAM,EAAEV,IAAI,CAACU,MAAM,IAAI;MACzB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACV,IAAI,CAAC,CAAC;EAEV,MAAMkB,iBAAiB,GAAIC,CAAC,IAAK;IAC/BhB,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAACiB,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAC5B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAChCA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClBZ,UAAU,CAAC,IAAI,CAAC;IAChBa,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE;MAAE1B,IAAI;MAAEE;IAAS,CAAC,CAAC;IAE1D,IAAI,CAACF,IAAI,IAAI,CAACA,IAAI,CAACK,QAAQ,EAAE;MAC3BsB,KAAK,CAAC,yCAAyC,CAAC;MAChDf,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IACA,IAAI;MACFa,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE,cAAc1B,IAAI,CAACK,QAAQ,EAAE,CAAC;MACrEoB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAExB,QAAQ,CAAC;MAEtC,MAAM0B,QAAQ,GAAG,MAAMzC,KAAK,CAAC0C,GAAG,CAAC,cAAc7B,IAAI,CAACK,QAAQ,EAAE,EAAEH,QAAQ,CAAC;MACzEuB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEE,QAAQ,CAACE,IAAI,CAAC;;MAE3C;MACA7B,aAAa,CAAC;QAAE,GAAGC,QAAQ;QAAE6B,MAAM,EAAEH,QAAQ,CAACE,IAAI,CAACC,MAAM,IAAI/B,IAAI,CAAC+B;MAAO,CAAC,CAAC;MAC3EnB,UAAU,CAAC,KAAK,CAAC;;MAEjB;MACA,IAAIV,QAAQ,CAACG,QAAQ,KAAKL,IAAI,CAACK,QAAQ,EAAE;QACvCN,QAAQ,CAAC,YAAYG,QAAQ,CAACG,QAAQ,EAAE,CAAC;MAC3C,CAAC,MAAM;QACLN,QAAQ,CAAC,YAAYC,IAAI,CAACK,QAAQ,EAAE,CAAC;MACvC;IACF,CAAC,CAAC,OAAO2B,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,cAAA,EAAAC,mBAAA,EAAAC,qBAAA,EAAAC,cAAA,EAAAC,mBAAA,EAAAC,qBAAA;MACZ3B,UAAU,CAAC,KAAK,CAAC;MACjBa,OAAO,CAACe,KAAK,CAAC,uBAAuB,EAAER,GAAG,CAAC;MAC3CP,OAAO,CAACe,KAAK,CAAC,iBAAiB,GAAAP,aAAA,GAAED,GAAG,CAACJ,QAAQ,cAAAK,aAAA,uBAAZA,aAAA,CAAcH,IAAI,CAAC;;MAEpD;MACA,IAAI,CAAAI,cAAA,GAAAF,GAAG,CAACJ,QAAQ,cAAAM,cAAA,gBAAAC,mBAAA,GAAZD,cAAA,CAAcJ,IAAI,cAAAK,mBAAA,gBAAAC,qBAAA,GAAlBD,mBAAA,CAAoBK,KAAK,cAAAJ,qBAAA,eAAzBA,qBAAA,CAA2BK,QAAQ,CAAC,WAAW,CAAC,KAAAJ,cAAA,GAAIL,GAAG,CAACJ,QAAQ,cAAAS,cAAA,gBAAAC,mBAAA,GAAZD,cAAA,CAAcP,IAAI,cAAAQ,mBAAA,gBAAAC,qBAAA,GAAlBD,mBAAA,CAAoBE,KAAK,cAAAD,qBAAA,eAAzBA,qBAAA,CAA2BE,QAAQ,CAAC,QAAQ,CAAC,EAAE;QACrGd,KAAK,CAAC,8DAA8D,CAAC;MACvE,CAAC,MAAM;QAAA,IAAAe,cAAA,EAAAC,mBAAA;QACLhB,KAAK,CAAC,yBAAyB,IAAI,EAAAe,cAAA,GAAAV,GAAG,CAACJ,QAAQ,cAAAc,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAcZ,IAAI,cAAAa,mBAAA,uBAAlBA,mBAAA,CAAoBH,KAAK,KAAIR,GAAG,CAACY,OAAO,CAAC,CAAC;MAC/E;IACF;EACF,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA;IAC/B,CAAAA,qBAAA,GAAA7B,YAAY,CAAC8B,OAAO,cAAAD,qBAAA,uBAApBA,qBAAA,CAAsBE,KAAK,CAAC,CAAC;EAC/B,CAAC;EAED,MAAMC,sBAAsB,GAAG,MAAOC,KAAK,IAAK;IAAA,IAAAC,mBAAA;IAC9C,MAAMC,IAAI,IAAAD,mBAAA,GAAGD,KAAK,CAAC9B,MAAM,CAACiC,KAAK,cAAAF,mBAAA,uBAAlBA,mBAAA,CAAqB,CAAC,CAAC;IACpC,IAAIC,IAAI,EAAE;MACRtC,aAAa,CAACsC,IAAI,CAAC;MACnB,MAAME,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC;MACrCpC,gBAAgB,CAACsC,GAAG,CAAC;;MAErB;MACA,IAAI;QACF,MAAMpD,QAAQ,GAAG,IAAIuD,QAAQ,CAAC,CAAC;QAC/BvD,QAAQ,CAACwD,MAAM,CAAC,QAAQ,EAAEN,IAAI,CAAC;QAE/B,MAAMxB,QAAQ,GAAG,MAAMzC,KAAK,CAAC0C,GAAG,CAAC,cAAc7B,IAAI,CAACK,QAAQ,SAAS,EAAEH,QAAQ,EAAE;UAC/EyD,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QAEFlC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEE,QAAQ,CAACE,IAAI,CAAC;;QAErD;QACA7B,aAAa,CAAC;UAAE8B,MAAM,EAAEH,QAAQ,CAACE,IAAI,CAACC;QAAO,CAAC,CAAC;;QAE/C;QACA,IAAId,YAAY,CAAC8B,OAAO,EAAE;UACxB9B,YAAY,CAAC8B,OAAO,CAACzB,KAAK,GAAG,EAAE;QACjC;QAEAK,KAAK,CAAC,8BAA8B,CAAC;MACvC,CAAC,CAAC,OAAOK,GAAG,EAAE;QAAA,IAAA4B,cAAA,EAAAC,mBAAA;QACZpC,OAAO,CAACe,KAAK,CAAC,sBAAsB,EAAER,GAAG,CAAC;QAC1CL,KAAK,CAAC,2BAA2B,IAAI,EAAAiC,cAAA,GAAA5B,GAAG,CAACJ,QAAQ,cAAAgC,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAc9B,IAAI,cAAA+B,mBAAA,uBAAlBA,mBAAA,CAAoBrB,KAAK,KAAIR,GAAG,CAACY,OAAO,CAAC,CAAC;MACjF;IACF;EACF,CAAC;EAED,oBACEhD,OAAA;IAAKkE,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBAEpCnE,OAAA;MAAKkE,SAAS,EAAC,qDAAqD;MAAAC,QAAA,eAClEnE,OAAA;QAAKkE,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpDnE,OAAA,CAACN,MAAM;UAAC0E,OAAO,EAAC,OAAO;UAACC,OAAO,EAAEA,CAAA,KAAMlE,QAAQ,CAAC,YAAY,CAAAC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK,QAAQ,KAAI,aAAa,EAAE,CAAE;UAAA0D,QAAA,eAC7FnE,OAAA,CAACR,SAAS;YAAC0E,SAAS,EAAC;UAAS;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3B,CAAC,eACTzE,OAAA;UAAIkE,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAY;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/CzE,OAAA,CAACN,MAAM;UACL0E,OAAO,EAAC,OAAO;UACfF,SAAS,EAAC,6BAA6B;UACvCG,OAAO,EAAG9C,CAAC,IAAK;YACdA,CAAC,CAACK,cAAc,CAAC,CAAC;YAClBD,YAAY,CAACJ,CAAC,CAAC;UACjB,CAAE;UACFmD,QAAQ,EAAE3D,OAAQ;UAAAoD,QAAA,EAEjBpD,OAAO,GAAG,WAAW,GAAG;QAAM;UAAAuD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENzE,OAAA;MAAKkE,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAEhCnE,OAAA;QAAKkE,SAAS,EAAC,8BAA8B;QAAAC,QAAA,eAC3CnE,OAAA;UAAKkE,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAC1CnE,OAAA;YAAKkE,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvBnE,OAAA;cAAKkE,SAAS,EAAC,wCAAwC;cAAAC,QAAA,eACrDnE,OAAA;gBACE2E,GAAG,EAAExD,aAAa,KAAKf,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAE+B,MAAM,GAAG,yBAAyB/B,IAAI,CAAC+B,MAAM,EAAE,GAAG,6FAA6F,CAAE;gBAC9KyC,GAAG,EAAC,SAAS;gBACbV,SAAS,EAAC;cAA4B;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNzE,OAAA;cACEqE,OAAO,EAAEpB,kBAAmB;cAC5BiB,SAAS,EAAC,6FAA6F;cAAAC,QAAA,eAEvGnE,OAAA,CAACP,MAAM;gBAACyE,SAAS,EAAC;cAAoB;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACNzE,OAAA;YAAAmE,QAAA,gBACEnE,OAAA;cAAIkE,SAAS,EAAC,uBAAuB;cAAAC,QAAA,EAAE/D,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEK;YAAQ;cAAA6D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC3DzE,OAAA,CAACN,MAAM;cACL0E,OAAO,EAAC,OAAO;cACfF,SAAS,EAAC,wCAAwC;cAClDG,OAAO,EAAEpB,kBAAmB;cAAAkB,QAAA,EAC7B;YAED;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNzE,OAAA;QAAM6E,QAAQ,EAAElD,YAAa;QAACuC,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAErDnE,OAAA;UAAAmE,QAAA,gBACEnE,OAAA;YAAOkE,SAAS,EAAC,gDAAgD;YAAAC,QAAA,EAAC;UAElE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRzE,OAAA,CAACL,KAAK;YACJmF,IAAI,EAAC,MAAM;YACXrD,IAAI,EAAC,aAAa;YAClBC,KAAK,EAAEpB,QAAQ,CAACE,WAAY;YAC5BuE,QAAQ,EAAEzD,iBAAkB;YAC5B4C,SAAS,EAAC,QAAQ;YAClBc,WAAW,EAAC;UAAM;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC,eACFzE,OAAA;YAAGkE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAE1C;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGNzE,OAAA;UAAAmE,QAAA,gBACEnE,OAAA;YAAOkE,SAAS,EAAC,gDAAgD;YAAAC,QAAA,EAAC;UAElE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRzE,OAAA,CAACL,KAAK;YACJmF,IAAI,EAAC,MAAM;YACXrD,IAAI,EAAC,UAAU;YACfC,KAAK,EAAEpB,QAAQ,CAACG,QAAS;YACzBsE,QAAQ,EAAEzD,iBAAkB;YAC5B4C,SAAS,EAAC,QAAQ;YAClBc,WAAW,EAAC;UAAU;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvB,CAAC,eACFzE,OAAA;YAAGkE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GAAC,oBACtB,EAAC7D,QAAQ,CAACG,QAAQ;UAAA;YAAA6D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGNzE,OAAA;UAAAmE,QAAA,gBACEnE,OAAA;YAAOkE,SAAS,EAAC,gDAAgD;YAAAC,QAAA,EAAC;UAElE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRzE,OAAA,CAACL,KAAK;YACJmF,IAAI,EAAC,KAAK;YACVrD,IAAI,EAAC,SAAS;YACdC,KAAK,EAAEpB,QAAQ,CAACI,OAAQ;YACxBqE,QAAQ,EAAEzD,iBAAkB;YAC5B4C,SAAS,EAAC,QAAQ;YAClBc,WAAW,EAAC;UAAS;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAGNzE,OAAA;UAAAmE,QAAA,gBACEnE,OAAA;YAAOkE,SAAS,EAAC,gDAAgD;YAAAC,QAAA,EAAC;UAElE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRzE,OAAA,CAACJ,QAAQ;YACP6B,IAAI,EAAC,KAAK;YACVC,KAAK,EAAEpB,QAAQ,CAACK,GAAI;YACpBoE,QAAQ,EAAEzD,iBAAkB;YAC5B4C,SAAS,EAAC,oBAAoB;YAC9Be,IAAI,EAAE,CAAE;YACRC,SAAS,EAAE,GAAI;YACfF,WAAW,EAAC;UAAK;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClB,CAAC,eACFzE,OAAA;YAAGkE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,GACtC7D,QAAQ,CAACK,GAAG,CAACwE,MAAM,EAAC,MACvB;UAAA;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGNzE,OAAA;UAAKkE,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBnE,OAAA;YAAIkE,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAAC;UAAoB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClFzE,OAAA;YAAGkE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAE1C;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGNzE,OAAA;UAAAmE,QAAA,gBACEnE,OAAA;YAAOkE,SAAS,EAAC,gDAAgD;YAAAC,QAAA,EAAC;UAElE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRzE,OAAA,CAACL,KAAK;YACJmF,IAAI,EAAC,OAAO;YACZrD,IAAI,EAAC,OAAO;YACZC,KAAK,EAAEpB,QAAQ,CAACM,KAAM;YACtBmE,QAAQ,EAAEzD,iBAAkB;YAC5B4C,SAAS,EAAC,QAAQ;YAClBc,WAAW,EAAC;UAAO;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAGNzE,OAAA;UAAAmE,QAAA,gBACEnE,OAAA;YAAOkE,SAAS,EAAC,gDAAgD;YAAAC,QAAA,EAAC;UAElE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRzE,OAAA,CAACL,KAAK;YACJmF,IAAI,EAAC,KAAK;YACVrD,IAAI,EAAC,OAAO;YACZC,KAAK,EAAEpB,QAAQ,CAACO,KAAM;YACtBkE,QAAQ,EAAEzD,iBAAkB;YAC5B4C,SAAS,EAAC,QAAQ;YAClBc,WAAW,EAAC;UAAc;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAGNzE,OAAA;UAAAmE,QAAA,gBACEnE,OAAA;YAAOkE,SAAS,EAAC,gDAAgD;YAAAC,QAAA,EAAC;UAElE;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACRzE,OAAA;YACEyB,IAAI,EAAC,QAAQ;YACbC,KAAK,EAAEpB,QAAQ,CAACQ,MAAO;YACvBiE,QAAQ,EAAEzD,iBAAkB;YAC5B4C,SAAS,EAAC,8HAA8H;YAAAC,QAAA,gBAExInE,OAAA;cAAQ0B,KAAK,EAAC,eAAe;cAAAyC,QAAA,EAAC;YAAa;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpDzE,OAAA;cAAQ0B,KAAK,EAAC,MAAM;cAAAyC,QAAA,EAAC;YAAI;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAClCzE,OAAA;cAAQ0B,KAAK,EAAC,QAAQ;cAAAyC,QAAA,EAAC;YAAM;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACtCzE,OAAA;cAAQ0B,KAAK,EAAC,QAAQ;cAAAyC,QAAA,EAAC;YAAM;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,eACTzE,OAAA;YAAGkE,SAAS,EAAC,4BAA4B;YAAAC,QAAA,EAAC;UAE1C;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eAGNzE,OAAA;UAAKkE,SAAS,EAAC,sBAAsB;UAAAC,QAAA,eACnCnE,OAAA,CAACN,MAAM;YACLoF,IAAI,EAAC,QAAQ;YACbJ,QAAQ,EAAE3D,OAAQ;YAClBmD,SAAS,EAAC,0CAA0C;YAAAC,QAAA,EAEnDpD,OAAO,GAAG,WAAW,GAAG;UAAQ;YAAAuD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAGPzE,OAAA;QAAKkE,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDnE,OAAA,CAACN,MAAM;UACL0E,OAAO,EAAC,OAAO;UACfF,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EACvE;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAETzE,OAAA,CAACN,MAAM;UACL0E,OAAO,EAAC,OAAO;UACfF,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EACvE;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNzE,OAAA;MACEoF,GAAG,EAAE/D,YAAa;MAClByD,IAAI,EAAC,MAAM;MACXO,MAAM,EAAC,SAAS;MAChBN,QAAQ,EAAE1B,sBAAuB;MACjCa,SAAS,EAAC;IAAQ;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACvE,EAAA,CA1VID,WAAW;EAAA,QACEJ,WAAW,EACIC,OAAO;AAAA;AAAAwF,EAAA,GAFnCrF,WAAW;AA4VjB,eAAeA,WAAW;AAAC,IAAAqF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}