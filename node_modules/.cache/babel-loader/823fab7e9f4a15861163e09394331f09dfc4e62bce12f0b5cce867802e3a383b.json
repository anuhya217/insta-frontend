{"ast":null,"code":"import _objectSpread from\"/Users/mohanraoboddu/Downloads/app 2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../components/AuthGuard';import axios from'axios';import{Eye,EyeOff}from'lucide-react';import{Button}from'../components/ui/button';import{Input}from'../components/ui/input';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const navigate=useNavigate();const{login}=useAuth();const[formData,setFormData]=useState({username:'',password:''});const[showPassword,setShowPassword]=useState(false);const[loading,setLoading]=useState(false);const handleInputChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const res=await axios.post('/api/auth/signin',{email:formData.username,password:formData.password});// Save user data and token from backend\nlogin(res.data.user,res.data.token);setLoading(false);navigate('/profile/'+res.data.user.username);}catch(err){var _err$response,_err$response$data;setLoading(false);alert('Login failed: '+(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||err.message));}};const isFormValid=formData.username&&formData.password;return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-300 rounded-lg px-10 py-8 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-8\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-transparent bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text\",children:\"Instagram\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"username\",placeholder:\"Email or Username\",value:formData.username,onChange:handleInputChange,className:\"w-full px-2 py-3 text-sm bg-gray-50 border border-gray-300 rounded focus:bg-white focus:border-gray-400 focus:ring-0\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Input,{type:showPassword?\"text\":\"password\",name:\"password\",placeholder:\"Password\",value:formData.password,onChange:handleInputChange,className:\"w-full px-2 py-3 text-sm bg-gray-50 border border-gray-300 rounded focus:bg-white focus:border-gray-400 focus:ring-0 pr-10\"}),formData.password&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm font-semibold text-gray-800\",children:showPassword?'Hide':'Show'})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:!isFormValid||loading,className:\"w-full py-2 px-4 rounded text-sm font-semibold \".concat(isFormValid&&!loading?'bg-blue-500 hover:bg-blue-600 text-white':'bg-blue-300 text-white cursor-not-allowed'),children:loading?'Logging in...':'Log in'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center my-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 border-t border-gray-300\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 text-gray-500 text-sm font-semibold\",children:\"OR\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 border-t border-gray-300\"})]}),/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",className:\"w-full py-2 text-sm font-semibold text-blue-900 hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\uD83D\\uDCD8\"}),\"Log in with Facebook\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"text-xs text-blue-900 hover:underline\",children:\"Forgot password?\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border border-gray-300 rounded-lg px-10 py-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"text-blue-500 font-semibold hover:underline\",children:\"Sign up\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-4\",children:\"Get the app.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://static.cdninstagram.com/rsrc.php/v3/yz/r/c5Rp7Ym-Klz.png\",alt:\"Download on the App Store\",className:\"h-10\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://static.cdninstagram.com/rsrc.php/v3/yu/r/EHY6QnZYdNX.png\",alt:\"Get it on Google Play\",className:\"h-10\"})]})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","Link","useNavigate","useAuth","axios","Eye","EyeOff","Button","Input","jsx","_jsx","jsxs","_jsxs","Login","navigate","login","formData","setFormData","username","password","showPassword","setShowPassword","loading","setLoading","handleInputChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","res","post","email","data","user","token","err","_err$response","_err$response$data","alert","response","error","message","isFormValid","className","children","onSubmit","type","placeholder","onChange","onClick","disabled","concat","variant","to","src","alt"],"sources":["/Users/mohanraoboddu/Downloads/app 2/frontend/src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../components/AuthGuard';\nimport axios from 'axios';\nimport { Eye, EyeOff } from 'lucide-react';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await axios.post('/api/auth/signin', {\n        email: formData.username,\n        password: formData.password\n      });\n      // Save user data and token from backend\n      login(res.data.user, res.data.token);\n      setLoading(false);\n      navigate('/profile/' + res.data.user.username);\n    } catch (err) {\n      setLoading(false);\n      alert('Login failed: ' + (err.response?.data?.error || err.message));\n    }\n  };\n\n  const isFormValid = formData.username && formData.password;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 px-4\">\n      <div className=\"max-w-md mx-auto w-full\">\n        {/* Main login card */}\n        <div className=\"bg-white border border-gray-300 rounded-lg px-10 py-8 mb-4\">\n          {/* Instagram logo */}\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-4xl font-bold text-transparent bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text\">\n              Instagram\n            </h1>\n          </div>\n\n          {/* Login form */}\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <Input\n                type=\"text\"\n                name=\"username\"\n                placeholder=\"Email or Username\"\n                value={formData.username}\n                onChange={handleInputChange}\n                className=\"w-full px-2 py-3 text-sm bg-gray-50 border border-gray-300 rounded focus:bg-white focus:border-gray-400 focus:ring-0\"\n              />\n            </div>\n\n            <div className=\"relative\">\n              <Input\n                type={showPassword ? \"text\" : \"password\"}\n                name=\"password\"\n                placeholder=\"Password\"\n                value={formData.password}\n                onChange={handleInputChange}\n                className=\"w-full px-2 py-3 text-sm bg-gray-50 border border-gray-300 rounded focus:bg-white focus:border-gray-400 focus:ring-0 pr-10\"\n              />\n              {formData.password && (\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm font-semibold text-gray-800\"\n                >\n                  {showPassword ? 'Hide' : 'Show'}\n                </button>\n              )}\n            </div>\n\n            <Button\n              type=\"submit\"\n              disabled={!isFormValid || loading}\n              className={`w-full py-2 px-4 rounded text-sm font-semibold ${\n                isFormValid && !loading\n                  ? 'bg-blue-500 hover:bg-blue-600 text-white'\n                  : 'bg-blue-300 text-white cursor-not-allowed'\n              }`}\n            >\n              {loading ? 'Logging in...' : 'Log in'}\n            </Button>\n          </form>\n\n          {/* Divider */}\n          <div className=\"flex items-center my-6\">\n            <div className=\"flex-1 border-t border-gray-300\"></div>\n            <div className=\"px-4 text-gray-500 text-sm font-semibold\">OR</div>\n            <div className=\"flex-1 border-t border-gray-300\"></div>\n          </div>\n\n          {/* Facebook login */}\n          <Button\n            variant=\"ghost\"\n            className=\"w-full py-2 text-sm font-semibold text-blue-900 hover:bg-gray-50\"\n          >\n            <span className=\"mr-2\">ðŸ“˜</span>\n            Log in with Facebook\n          </Button>\n\n          {/* Forgot password */}\n          <div className=\"text-center mt-4\">\n            <Link\n              to=\"/forgot-password\"\n              className=\"text-xs text-blue-900 hover:underline\"\n            >\n              Forgot password?\n            </Link>\n          </div>\n        </div>\n\n        {/* Sign up card */}\n        <div className=\"bg-white border border-gray-300 rounded-lg px-10 py-6 text-center\">\n          <p className=\"text-sm\">\n            Don't have an account?{' '}\n            <Link\n              to=\"/signup\"\n              className=\"text-blue-500 font-semibold hover:underline\"\n            >\n              Sign up\n            </Link>\n          </p>\n        </div>\n\n        {/* Get the app */}\n        <div className=\"text-center mt-4\">\n          <p className=\"text-sm mb-4\">Get the app.</p>\n          <div className=\"flex justify-center space-x-2\">\n            <img\n              src=\"https://static.cdninstagram.com/rsrc.php/v3/yz/r/c5Rp7Ym-Klz.png\"\n              alt=\"Download on the App Store\"\n              className=\"h-10\"\n            />\n            <img\n              src=\"https://static.cdninstagram.com/rsrc.php/v3/yu/r/EHY6QnZYdNX.png\"\n              alt=\"Get it on Google Play\"\n              className=\"h-10\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}